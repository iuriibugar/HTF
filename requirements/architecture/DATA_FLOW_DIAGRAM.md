# –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

## 1Ô∏è‚É£ –ü—Ä–æ—Ü–µ—Å –ª–æ–≥—ñ–Ω—É

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î "–£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"   ‚îÇ
‚îÇ         (LoginView.vue)                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ signInWithPopup(auth, googleProvider)       ‚îÇ
‚îÇ        (Firebase Auth SDK)                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Google –Ω–∞–¥–∞—î –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:               ‚îÇ
‚îÇ ‚Ä¢ uid                                        ‚îÇ
‚îÇ ‚Ä¢ email                                      ‚îÇ
‚îÇ ‚Ä¢ displayName                                ‚îÇ
‚îÇ ‚Ä¢ photoURL                                   ‚îÇ
‚îÇ ‚Ä¢ emailVerified                              ‚îÇ
‚îÇ ‚Ä¢ metadata                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ const user = result.user                     ‚îÇ
‚îÇ –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ email —É ADMIN_EMAILS             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
               ‚îÇ                                     ‚îÇ
        –ê–î–ú–Ü–ù–Ü–°–¢–†–ê–¢–û–†              –ó–í–ò–ß–ê–ô–ù–ò–ô –ö–û–†–ò–°–¢–£–í–ê–ß
               ‚îÇ                                     ‚îÇ
               ‚ñº                                     ‚ñº
        router.push('/admin')              router.push('/user')
```

---

## 2Ô∏è‚É£ –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —É Firestore

### –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤—Ö–æ–¥—ñ (CabinetView.vue)

```
Firebase Auth User Object
‚îÇ
‚îú‚îÄ uid ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îú‚îÄ email               ‚îÇ
‚îú‚îÄ displayName         ‚îÇ
‚îú‚îÄ photoURL            ‚îÇ
‚îî‚îÄ emailVerified       ‚îÇ
                       ‚îÇ
                       ‚ñº
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ   CabinetView.vue  ‚îÇ
          ‚îÇ  (onMounted hook)  ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ         ‚îÇ         ‚îÇ
         ‚ñº         ‚ñº         ‚ñº
    userName   userEmail   userPhoto
       (ref)      (ref)      (ref)
         ‚îÇ         ‚îÇ         ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚ñº
      –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ UI
   (–ö–∞–±—ñ–Ω–µ—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)
```

### –ü—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –Ω–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è (TrainingRegistration.vue)

```
auth.currentUser
‚îÇ
‚îú‚îÄ uid ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îú‚îÄ email               ‚îÇ
‚îú‚îÄ displayName         ‚îÇ
‚îî‚îÄ photoURL            ‚îÇ
                       ‚îÇ
                       ‚ñº
    registerForTraining()
      (registrationService.js)
              ‚îÇ
              ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ Firestore: registrations‚îÇ
    ‚îÇ                         ‚îÇ
    ‚îÇ {                       ‚îÇ
    ‚îÇ   userId: uid,          ‚îÇ
    ‚îÇ   userEmail: email,     ‚îÇ
    ‚îÇ   userName: displayName,‚îÇ
    ‚îÇ   userPhoto: photoURL,  ‚îÇ
    ‚îÇ   registeredAt: now(),  ‚îÇ
    ‚îÇ   trainingId: id,       ‚îÇ
    ‚îÇ   scheduleId: id,       ‚îÇ
    ‚îÇ   trainingDate: date,   ‚îÇ
    ‚îÇ   trainingTime: time,   ‚îÇ
    ‚îÇ   trainingName: name    ‚îÇ
    ‚îÇ }                       ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 3Ô∏è‚É£ –î–∞–Ω—ñ —É —Ä—ñ–∑–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω–∞—Ö –¥–æ–¥–∞—Ç–∫—É

### üìå LoginView.vue
```
–û—Ç—Ä–∏–º—É—î:  result.user (Firebase User Object)
          ‚Üì
–ü–µ—Ä–µ–≤—ñ—Ä—è—î: user.email —É ADMIN_EMAILS
          ‚Üì
–†–µ–¥–∏—Ä–µ–∫—Ç: /admin –∞–±–æ /user
```

### üìå CabinetView.vue
```
–°–ª—É—Ö–∞—î:  onAuthStateChanged(auth, (user) => {...})
         ‚Üì
–ó–±–µ—Ä—ñ–≥–∞—î: 
  ‚Ä¢ userName (user.displayName)
  ‚Ä¢ userEmail (user.email)
  ‚Ä¢ userPhoto (user.photoURL)
  ‚Ä¢ isAdmin (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ email)
         ‚Üì
–í—ñ–¥–æ–±—Ä–∞–∂–∞—î: —É –∫–∞–±—ñ–Ω–µ—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```

### üìå TrainingRegistration.vue
```
–û—Ç—Ä–∏–º—É—î: auth.currentUser
         ‚Üì
–ü–µ—Ä–µ–¥–∞—î –¥–æ: registerForTraining()
         ‚Üì
–ó–±–µ—Ä—ñ–≥–∞—î —É Firestore:
  ‚Ä¢ userId
  ‚Ä¢ userEmail
  ‚Ä¢ userName
  ‚Ä¢ userPhoto
  ‚Ä¢ registeredAt
         ‚Üì
–†–∞–∑–æ–º –∑: trainingId, scheduleId, trainingDate, ...
```

### üìå htfHeader.vue
```
–°–ª—É—Ö–∞—î:  onAuthStateChanged()
         ‚Üì
–í–∏–∫–æ—Ä–∏—Å—Ç: user.email (–¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞–¥–º—ñ–Ω–∞)
         ‚Üì
–ü–æ–∫–∞–∑—É—î: –∫–Ω–æ–ø–∫—É –∫–∞–±—ñ–Ω–µ—Ç—É –∞–±–æ –ª–æ–≥—ñ–Ω—É
```

---

## 4Ô∏è‚É£ –î–∞–Ω—ñ —É Firestore –∫–æ–ª–µ–∫—Ü—ñ—è—Ö

### üìä –ö–æ–ª–µ–∫—Ü—ñ—è: `registrations`
```
Document ID: (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π)
{
  userId: "abc123xyz",
  userEmail: "user@gmail.com",
  userName: "John Doe",
  userPhoto: "https://lh3.googleusercontent.com/...",
  registeredAt: "2024-02-02T10:30:00Z",
  trainingId: "schedule_001_2024-02-05_10:00",
  scheduleId: "schedule_001",
  trainingDate: "2024-02-05",
  trainingTime: "10:00",
  trainingName: "–ü–ª–∞–≤–∞–Ω–Ω—è"
}
```

### üìä –ö–æ–ª–µ–∫—Ü—ñ—è: `schedules`
```
Document ID: (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π)
{
  weekStart: "2024-02-05",
  weekEnd: "2024-02-11",
  trainings: [...],
  createdAt: "2024-02-02T10:00:00Z",
  createdBy: "admin@gmail.com"  ‚Üê email –∞–¥–º—ñ–Ω–∞
}
```

---

## 5Ô∏è‚É£ –ë–µ–∑–ø–µ–∫–∞ –¥–∞–Ω–∏—Ö

| –î–∞–Ω–µ | –í–∏–¥–∏–º–µ | –ú–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–µ | –ü—Ä–∏–º—ñ—Ç–∫–∞ |
|------|--------|-------------|---------|
| uid | Firebase —Ç—ñ–ª—å–∫–∏ | ‚ùå | –ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è Firebase |
| email | Firestore | ‚ùå | –ù–µ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á |
| displayName | Firestore | ‚ùå | –Ø–∫ –≤ Google Account |
| photoURL | Firestore | ‚ùå | –í—ñ–¥ Google, –ø—É–±–ª—ñ—á–Ω–µ |
| registeredAt | Firestore | ‚ùå | –ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º |

---

## 6Ô∏è‚É£ –ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É

```javascript
// 1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É "–£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"
// (LoginView.vue)

// 2. Firebase –ø–æ–≤–µ—Ä—Ç–∞—î:
const user = {
  uid: "abc123xyz",
  email: "john@gmail.com",
  displayName: "John Doe",
  photoURL: "https://...",
  emailVerified: true
}

// 3. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ: ADMIN_EMAILS.includes(user.email)
// ‚Üí FALSE (–Ω–µ –∞–¥–º—ñ–Ω)

// 4. –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /user
// router.push('/user')

// 5. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ—Ç—Ä–∞–ø–ª—è—î –Ω–∞ CabinetView
// onAuthStateChanged —á—ñ–ø–ª—è—î —Ü—ñ –¥–∞–Ω—ñ

// 6. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ TrainingRegistration
// –ú–æ–∂–µ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å –Ω–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è:

await registerForTraining({
  trainingId: "schedule_001_2024-02-05_10:00",
  scheduleId: "schedule_001",
  trainingDate: "2024-02-05",
  trainingTime: "10:00",
  trainingName: "–ü–ª–∞–≤–∞–Ω–Ω—è"
})

// 7. –£ Firestore –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è:
{
  userId: "abc123xyz",
  userEmail: "john@gmail.com",
  userName: "John Doe",
  userPhoto: "https://...",
  registeredAt: "2024-02-02T10:30:00Z",
  trainingId: "schedule_001_2024-02-05_10:00",
  scheduleId: "schedule_001",
  trainingDate: "2024-02-05",
  trainingTime: "10:00",
  trainingName: "–ü–ª–∞–≤–∞–Ω–Ω—è"
}
```

---

## 7Ô∏è‚É£ –©–æ —Ä–æ–±–∏—Ç–∏ –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏?

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–∞–Ω—ñ, —è–∫—ñ Google –Ω–µ –Ω–∞–¥–∞—î:

1. **–ó–±–µ—Ä–µ–≥—Ç–∏ —É Firestore** - –æ–∫—Ä–µ–º–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó `users`
2. **–ó–∞–ø—Ä–æ—Å–∏—Ç–∏ —É —Ñ–æ—Ä–º—ñ** - –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤—Ö–æ–¥—ñ
3. **–ó–≤–Ω—É–∑–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ** - –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Firebase Realtime Database

–ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ `users` –∫–æ–ª–µ–∫—Ü—ñ—ó:

```javascript
// Firestore: users/{uid}
{
  uid: "abc123xyz",
  email: "john@gmail.com",
  displayName: "John Doe",
  photoURL: "https://...",
  
  // –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–ª—è
  phone: "+380...",
  dateOfBirth: "1990-05-15",
  city: "Kyiv",
  triathlonLevel: "beginner",
  createdAt: "2024-02-02T10:00:00Z",
  updatedAt: "2024-02-02T10:00:00Z"
}
```
